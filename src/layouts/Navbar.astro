---
import Container from "../components/shared/Container.astro";
import Navitem from "../components/shared/Navitem.astro";
import CtaButton from "../components/shared/CtaButton.astro";

const navItems = [
  {
    href: "#",
    text: "Home",
  },
  {
    href: "#solutions",
    text: "Solutions",
  },
  {
    href: "#features",
    text: "Features",
  },
  {
    href: "#reviews",
    text: "Reviews",
  },
  {
    href: "#faq",
    text: "FAQ",
  },
];
---

<header id="navbar" class="sticky top-0 z-50 bg-white shadow-md border-b border-gray-200 transition-transform duration-300 h-20 lg:h-24">
  <Container>
    <nav class="w-full flex justify-between gap-6 relative overflow-visible">
      <!-- logo -->
      <div class="min-w-max inline-flex relative">
        <a href="/" class="relative flex items-center gap-3">
          <div class="logo-container">
            <img src="/assets/logos/websiteLogo.webp" alt="Website Logo" class="logo-image" />
          </div>
        </a>
      </div>

      <div
        data-nav-overlay
        aria-hidden="true"
        class="fixed hidden inset-0 lg:!hidden bg-white z-40"
      >
      </div>
      <div
        data-navbar
        class="flex h-0 overflow-hidden lg:!h-auto lg:scale-y-100 duration-300 ease-linear flex-col gap-y-6 gap-x-4 lg:flex-row w-full lg:justify-between lg:items-center absolute lg:relative top-full lg:top-0 bg-white lg:bg-transparent border-x border-x-box-border lg:border-x-0 z-50"
      >
        <ul
          class="border-t border-box-border lg:border-t-0 px-6 lg:px-0 pt-6 lg:pt-0 flex flex-col lg:flex-row gap-y-4 gap-x-3 text-lg text-heading-2 w-full lg:justify-center lg:items-center"
        >
          {
            navItems.map((item) => {
              return <Navitem {...item} />;
            })
          }
        </ul>

        <div
          class="lg:min-w-max flex items-center sm:w-max w-full pb-6  lg:pt-1 border-b border-box-bg lg:border-0 px-6 lg:px-0">
          <CtaButton className="flex justify-center w-full sm:w-max">
            Order Now
          </CtaButton>
        </div>
      </div>

      <div class="min-w-max flex items-center gap-x-3">
        <button
          data-toggle-nav
          data-open-nav="false"
          class="lg:hidden lg:invisible outline-none w-10 h-auto flex flex-col relative"
        >
          <img src="/assets/logos/button.webp" alt="Menu" class="w-10 h-10" />
          <span class="sr-only">Toggle Navigation</span>
        </button>
      </div>
    </nav>
  </Container>
</header>

<div
  data-navbar
  class="fixed top-[85px] inset-x-0 bg-white shadow-md z-50 lg:hidden h-0 overflow-hidden transition-[height] duration-300"
>
  <ul
    class="border-t border-box-border lg:border-t-0 px-6 lg:px-0 pt-6 lg:pt-0 flex flex-col lg:flex-row gap-y-4 gap-x-3 text-lg text-heading-2 w-full lg:justify-center lg:items-center"
  >
    {
      navItems.map((item) => {
        return <Navitem {...item} />;
      })
    }
  </ul>

  <div
    class="lg:min-w-max flex items-center sm:w-max w-full pb-6 lg:pb-0 border-b border-box-bg lg:border-0 px-6 lg:px-0"
  >
    <CtaButton
      className="flex justify-center w-full sm:w-max"
    >
      Order Now
    </CtaButton>
  </div>
</div>
<style>
  #navbar {
    will-change: transform;
  }

  .logo-container {
    position: relative;
    width: 80px;
    height: 80px; /* Default for mobile */
    overflow: hidden;
    display: flex;
    border-radius: 10px;
    align-items: center;
    justify-content: center;
  }

  .logo-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    transform: scale(0.9);
  }

  @media (min-width: 1024px) {
    .logo-container {
      height: 95px; /* Height for desktop */
    }
  }
</style>
</style>