---
import Layout from "../layouts/Layout-Checkout.astro";
import QuantitySelector from "../components/sections/quantity/QuantitySelector.astro";
import ColorSizeSelector from "../components/sections/colorsize/ColorSizeSelector.tsx";
import PaymentInfo from "../components/sections/PaymentInfo.astro";
import Countdown from "../components/sections/Countdown.astro";
import Footer from "../layouts/Footer.astro";
import ProductInfo from "../components/sections/quantity/ProductInfo.astro";
import PaymentForm from "../components/sections/PaymentForm.astro";
---

<Layout title="Checkout">
  <main class="checkout-page">
    <div class="max-w-[1000px] mx-auto w-full px-4">
      <Countdown coupon="NEWYEAR25" initialMinutes={10} />
      <div class="mt-4 relative">
        <div class="flex flex-col lg:flex-row gap-6">
          <div class="flex-1">
            <QuantitySelector />
            <div class="mt-8">
              <div id="colorSizeSection" class="hidden">
                <ColorSizeSelector client:visible />
              </div>
              <div class="mt-8">
                <!-- Added a wrapper div for spacing -->
                <PaymentForm />
              </div>
            </div>
            <div class="mt-8">
              <PaymentInfo />
            </div>
          </div>
          <div class="hidden lg:block sticky-sidebar">
            <ProductInfo />
          </div>
        </div>
      </div>
    </div>
  </main>
  <Footer />
</Layout>

<style>
  .checkout-page {
    background: #f8fafc;
    min-height: 100vh;
    padding: 2rem 0;
  }

  .sticky-sidebar {
    position: sticky;
    top: 2rem;
    height: fit-content;
  }
</style>
